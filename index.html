
<!DOCTYPE html>
<html lang="zh-TW">
<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>AOAWOW 專業庫存管理系統</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css" />
    <script type="importmap">
{
  "imports": {
    "react": "https://esm.sh/react@^19.2.3",
    "react-dom": "https://esm.sh/react-dom@^19.2.3",
    "react-dom/client": "https://esm.sh/react-dom@^19.2.3/client",
    "@google/genai": "https://esm.sh/@google/genai@^1.35.0",
    "react-dom/": "https://esm.sh/react-dom@^19.2.3/",
    "react/": "https://esm.sh/react@^19.2.3/"
  }
}
</script>
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Noto+Sans+TC:wght@400;500;700;900&display=swap');
        body { font-family: 'Noto Sans TC', sans-serif; }
        input::-webkit-outer-spin-button, input::-webkit-inner-spin-button { -webkit-appearance: none; margin: 0; }
    </style>
<link rel="stylesheet" href="/index.css">
</head>
<body class="bg-slate-50 text-slate-900">
    <div id="root"></div>

    <script type="module">
        import React, { useState, useEffect, useMemo, useCallback } from 'react';
        import { createRoot } from 'react-dom/client';
        import { GoogleGenAI } from "@google/genai";

        const Category = {
            AIR_DRIED: '風乾零食',
            FREEZE_DRIED: '凍乾零食',
            SUPPLIES: '用品'
        };

        const INITIAL_PRODUCTS = [
            // 風乾零食 (10)
            { id: 'ad-1', category: Category.AIR_DRIED, name: '貓咪抗拒不了貓草餅乾', wholesalePrice: 163, retailPrice: 250, currentStock: 0, safetyStock: 10, lastWeekStock: 0 },
            { id: 'ad-2', category: Category.AIR_DRIED, name: '經典雞胸肉乾', wholesalePrice: 163, retailPrice: 250, currentStock: 0, safetyStock: 10, lastWeekStock: 0 },
            { id: 'ad-3', category: Category.AIR_DRIED, name: '一比一比鴨鴨鴨胸肉乾', wholesalePrice: 195, retailPrice: 300, currentStock: 0, safetyStock: 10, lastWeekStock: 0 },
            { id: 'ad-4', category: Category.AIR_DRIED, name: '毛孩專屬鴨氣管', wholesalePrice: 137, retailPrice: 210, currentStock: 0, safetyStock: 10, lastWeekStock: 0 },
            { id: 'ad-5', category: Category.AIR_DRIED, name: '鴨鴨繞南瓜', wholesalePrice: 169, retailPrice: 260, currentStock: 0, safetyStock: 10, lastWeekStock: 0 },
            { id: 'ad-6', category: Category.AIR_DRIED, name: '雞雞繞南瓜', wholesalePrice: 163, retailPrice: 250, currentStock: 0, safetyStock: 10, lastWeekStock: 0 },
            { id: 'ad-7', category: Category.AIR_DRIED, name: '秋葵鴨肉肉', wholesalePrice: 169, retailPrice: 260, currentStock: 0, safetyStock: 10, lastWeekStock: 0 },
            { id: 'ad-8', category: Category.AIR_DRIED, name: '秋葵雞肉肉', wholesalePrice: 163, retailPrice: 250, currentStock: 0, safetyStock: 10, lastWeekStock: 0 },
            { id: 'ad-9', category: Category.AIR_DRIED, name: '小雞繞紅蘿蔔', wholesalePrice: 195, retailPrice: 300, currentStock: 0, safetyStock: 10, lastWeekStock: 0 },
            { id: 'ad-10', category: Category.AIR_DRIED, name: '黃金薑黃雞肉餅', wholesalePrice: 163, retailPrice: 250, currentStock: 0, safetyStock: 10, lastWeekStock: 0 },
            { id: 'ad-11', category: Category.AIR_DRIED, name: '黃金薑黃鴨肉餅', wholesalePrice: 195, retailPrice: 300, currentStock: 0, safetyStock: 10, lastWeekStock: 0 },
            { id: 'ad-12', category: Category.AIR_DRIED, name: '紅藜麥鴨肉條', wholesalePrice: 163, retailPrice: 250, currentStock: 0, safetyStock: 10, lastWeekStock: 0 },
            { id: 'ad-13', category: Category.AIR_DRIED, name: '紅藜麥雞肉條', wholesalePrice: 130, retailPrice: 200, currentStock: 0, safetyStock: 10, lastWeekStock: 0 },
            { id: 'ad-14', category: Category.AIR_DRIED, name: '牛肉塊', wholesalePrice: 195, retailPrice: 300, currentStock: 0, safetyStock: 10, lastWeekStock: 0 },
            { id: 'ad-15', category: Category.AIR_DRIED, name: '藍莓芝士雞肉餅', wholesalePrice: 195, retailPrice: 300, currentStock: 0, safetyStock: 10, lastWeekStock: 0 },
            { id: 'ad-16', category: Category.AIR_DRIED, name: '蘋果雞肉餅', wholesalePrice: 195, retailPrice: 300, currentStock: 0, safetyStock: 10, lastWeekStock: 0 },
            { id: 'ad-17', category: Category.AIR_DRIED, name: '迷迭香牛肉餅', wholesalePrice: 137, retailPrice: 210, currentStock: 0, safetyStock: 10, lastWeekStock: 0 },
            { id: 'ad-18', category: Category.AIR_DRIED, name: '羅勒雞肉條', wholesalePrice: 130, retailPrice: 200, currentStock: 0, safetyStock: 10, lastWeekStock: 0 },
            { id: 'ad-19', category: Category.AIR_DRIED, name: '百里香鴨肉', wholesalePrice: 137, retailPrice: 210, currentStock: 0, safetyStock: 10, lastWeekStock: 0 },
            { id: 'ad-20', category: Category.AIR_DRIED, name: '經典牛筋片', wholesalePrice: 195, retailPrice: 300, currentStock: 0, safetyStock: 10, lastWeekStock: 0 },
            { id: 'ad-21', category: Category.AIR_DRIED, name: '丁香魚小魚乾', wholesalePrice: 117, retailPrice: 180, currentStock: 0, safetyStock: 10, lastWeekStock: 0 },
            { id: 'ad-22', category: Category.AIR_DRIED, name: '鬆餅雞肉肉-芝芝藍莓', wholesalePrice: 163, retailPrice: 250, currentStock: 0, safetyStock: 10, lastWeekStock: 0 },
            { id: 'ad-23', category: Category.AIR_DRIED, name: '鬆餅雞肉肉-蔬菜', wholesalePrice: 163, retailPrice: 250, currentStock: 0, safetyStock: 10, lastWeekStock: 0 },
            { id: 'ad-24', category: Category.AIR_DRIED, name: '鬆餅雞肉肉-鴨鴨芝芝藍莓', wholesalePrice: 163, retailPrice: 250, currentStock: 0, safetyStock: 10, lastWeekStock: 0 },
            { id: 'ad-25', category: Category.AIR_DRIED, name: '雞肉鬆鬆', wholesalePrice: 130, retailPrice: 200, currentStock: 0, safetyStock: 10, lastWeekStock: 0 },

            // 凍乾零食 (10)
            { id: 'fd-1', category: Category.FREEZE_DRIED, name: '嗷嗚原形脆，雞小方', wholesalePrice: 163, retailPrice: 250, currentStock: 0, safetyStock: 10, lastWeekStock: 0 },
            { id: 'fd-2', category: Category.FREEZE_DRIED, name: '嗷嗚原形脆，雞大排', wholesalePrice: 163, retailPrice: 250, currentStock: 0, safetyStock: 10, lastWeekStock: 0 },
            { id: 'fd-3', category: Category.FREEZE_DRIED, name: '嗷嗚原形脆，雞小胗', wholesalePrice: 137, retailPrice: 210, currentStock: 0, safetyStock: 10, lastWeekStock: 0 },
            { id: 'fd-4', category: Category.FREEZE_DRIED, name: '嗷嗚原形脆，雞皇冠', wholesalePrice: 137, retailPrice: 210, currentStock: 0, safetyStock: 10, lastWeekStock: 0 },
            { id: 'fd-5', category: Category.FREEZE_DRIED, name: '嗷嗚原形脆，雞細條', wholesalePrice: 163, retailPrice: 250, currentStock: 0, safetyStock: 10, lastWeekStock: 0 },
            { id: 'fd-6', category: Category.FREEZE_DRIED, name: '嗷嗚原形脆，鴨細條', wholesalePrice: 182, retailPrice: 280, currentStock: 0, safetyStock: 10, lastWeekStock: 0 },
            { id: 'fd-7', category: Category.FREEZE_DRIED, name: '嗷嗚原形脆，脆鴨酥', wholesalePrice: 137, retailPrice: 210, currentStock: 0, safetyStock: 10, lastWeekStock: 0 },
            { id: 'fd-8', category: Category.FREEZE_DRIED, name: '嗷嗚原形脆，鴨小舌', wholesalePrice: 163, retailPrice: 250, currentStock: 0, safetyStock: 10, lastWeekStock: 0 },
            { id: 'fd-9', category: Category.FREEZE_DRIED, name: '嗷嗚原形脆，牛小方', wholesalePrice: 182, retailPrice: 280, currentStock: 0, safetyStock: 10, lastWeekStock: 0 },
            { id: 'fd-10', category: Category.FREEZE_DRIED, name: '嗷嗚原形脆，羊小方', wholesalePrice: 182, retailPrice: 280, currentStock: 0, safetyStock: 10, lastWeekStock: 0 },
            { id: 'fd-11', category: Category.FREEZE_DRIED, name: '嗷嗚原形脆，鮭小方', wholesalePrice: 195, retailPrice: 300, currentStock: 0, safetyStock: 10, lastWeekStock: 0 },
            { id: 'fd-12', category: Category.FREEZE_DRIED, name: '嗷嗚原形脆，鮭大排', wholesalePrice: 195, retailPrice: 300, currentStock: 0, safetyStock: 10, lastWeekStock: 0 },
            { id: 'fd-13', category: Category.FREEZE_DRIED, name: '嗷嗚原形脆，丁小魚', wholesalePrice: 182, retailPrice: 280, currentStock: 0, safetyStock: 10, lastWeekStock: 0 },
            { id: 'fd-14', category: Category.FREEZE_DRIED, name: '嗷嗚原形脆，小蝦蝦', wholesalePrice: 182, retailPrice: 280, currentStock: 0, safetyStock: 10, lastWeekStock: 0 },
            { id: 'fd-15', category: Category.FREEZE_DRIED, name: '嗷嗚原形脆，活力羊菜方', wholesalePrice: 221, retailPrice: 340, currentStock: 0, safetyStock: 10, lastWeekStock: 0 },
            { id: 'fd-16', category: Category.FREEZE_DRIED, name: '嗷嗚原形脆，強健牛菜方', wholesalePrice: 221, retailPrice: 340, currentStock: 0, safetyStock: 10, lastWeekStock: 0 },
            { id: 'fd-17', category: Category.FREEZE_DRIED, name: '嗷嗚原形脆，腸胃雞菜方', wholesalePrice: 221, retailPrice: 340, currentStock: 0, safetyStock: 10, lastWeekStock: 0 },
            { id: 'fd-18', category: Category.FREEZE_DRIED, name: '嗷嗚原形脆，元氣鴨菜方', wholesalePrice: 221, retailPrice: 340, currentStock: 0, safetyStock: 10, lastWeekStock: 0 },
            { id: 'fd-19', category: Category.FREEZE_DRIED, name: '嗷嗚原形脆，蔬菜纖方', wholesalePrice: 208, retailPrice: 320, currentStock: 0, safetyStock: 10, lastWeekStock: 0 },

            // 用品 (5)
            { id: 'sp-1', category: Category.SUPPLIES, name: '狗狗慢食墊-蜜桃粉', wholesalePrice: 200, retailPrice: 310, currentStock: 0, safetyStock: 5, lastWeekStock: 0 },
            { id: 'sp-2', category: Category.SUPPLIES, name: '狗狗慢食墊-石灰藍', wholesalePrice: 200, retailPrice: 310, currentStock: 0, safetyStock: 5, lastWeekStock: 0 },
            { id: 'sp-3', category: Category.SUPPLIES, name: '狗狗慢食墊-蜂蜜黃', wholesalePrice: 200, retailPrice: 310, currentStock: 0, safetyStock: 5, lastWeekStock: 0 },
            { id: 'sp-4', category: Category.SUPPLIES, name: '狗狗慢食墊-灰草綠', wholesalePrice: 200, retailPrice: 310, currentStock: 0, safetyStock: 5, lastWeekStock: 0 },
            { id: 'sp-5', category: Category.SUPPLIES, name: '貓薄荷魚玩具', wholesalePrice: 90, retailPrice: 150, currentStock: 0, safetyStock: 5, lastWeekStock: 0 },
            { id: 'sp-6', category: Category.SUPPLIES, name: '冰淇淋綿綿球', wholesalePrice: 250, retailPrice: 350, currentStock: 0, safetyStock: 5, lastWeekStock: 0 },
            { id: 'sp-7', category: Category.SUPPLIES, name: '矽膠吸盤餐盤附勺子-小鴨黃', wholesalePrice: 200, retailPrice: 425, currentStock: 0, safetyStock: 5, lastWeekStock: 0 },
            { id: 'sp-12', category: Category.SUPPLIES, name: '防暴衝胸背-黑S', wholesalePrice: 500, retailPrice: 1200, currentStock: 0, safetyStock: 5, lastWeekStock: 0 },
            { id: 'sp-13', category: Category.SUPPLIES, name: '防暴衝胸背-黑M', wholesalePrice: 500, retailPrice: 1200, currentStock: 0, safetyStock: 5, lastWeekStock: 0 },
            { id: 'sp-14', category: Category.SUPPLIES, name: '防暴衝胸背-黑L', wholesalePrice: 500, retailPrice: 1200, currentStock: 0, safetyStock: 5, lastWeekStock: 0 },
            { id: 'sp-15', category: Category.SUPPLIES, name: 'BITE ME 土撥鼠', wholesalePrice: 580, retailPrice: 880, currentStock: 0, safetyStock: 5, lastWeekStock: 0 },
            { id: 'sp-16', category: Category.SUPPLIES, name: 'DINGDOG 捲餅', wholesalePrice: 480, retailPrice: 680, currentStock: 0, safetyStock: 5, lastWeekStock: 0 }
        ];

        const getRocDate = (dateStr) => {
            const date = new Date(dateStr);
            const year = date.getFullYear() - 1911;
            const month = (date.getMonth() + 1).toString().padStart(2, '0');
            const day = date.getDate().toString().padStart(2, '0');
            return `${year}年${month}月${day}日`;
        };

        const App = () => {
            const [products, setProducts] = useState(() => {
                const saved = localStorage.getItem('aoawow-inventory-v4');
                return saved ? JSON.parse(saved) : INITIAL_PRODUCTS;
            });
            const [session, setSession] = useState({ date: new Date().toISOString().split('T')[0], inspector: '管理員' });
            const [searchTerm, setSearchTerm] = useState('');
            const [activeTab, setActiveTab] = useState('全部');
            const [aiAnalysis, setAiAnalysis] = useState(null);
            const [isAnalyzing, setIsAnalyzing] = useState(false);
            const [isModalOpen, setIsModalOpen] = useState(false);

            useEffect(() => {
                localStorage.setItem('aoawow-inventory-v4', JSON.stringify(products));
            }, [products]);

            const stats = useMemo(() => products.reduce((acc, p) => ({
                totalItems: acc.totalItems + 1,
                lowStockItems: acc.lowStockItems + (p.currentStock <= p.safetyStock ? 1 : 0),
                totalWholesaleValue: acc.totalWholesaleValue + (p.wholesalePrice * p.currentStock),
                totalRetailValue: acc.totalRetailValue + (p.retailPrice * p.currentStock),
            }), { totalItems: 0, lowStockItems: 0, totalWholesaleValue: 0, totalRetailValue: 0 }), [products]);

            const filteredProducts = products.filter(p => 
                (activeTab === '全部' || p.category === activeTab) && 
                p.name.toLowerCase().includes(searchTerm.toLowerCase())
            );

            const handleUpdateStock = (id, newStock) => {
                setProducts(prev => prev.map(p => p.id === id ? { ...p, currentStock: newStock } : p));
            };

            const handleStartInventory = () => {
                if (confirm('確定要開始新盤點？\n系統將會：\n1. 將目前庫存移動至「上週庫存」\n2. 目前庫存全部歸零。')) {
                    setProducts(prev => prev.map(p => ({ ...p, lastWeekStock: p.currentStock, currentStock: 0 })));
                    setSession(prev => ({ ...prev, date: new Date().toISOString().split('T')[0] }));
                }
            };

            const handleExport = () => {
                const headers = ['分類', '品名', '批價', '建議售價', '目前庫存', '安全庫存', '上週庫存', '狀態'];
                const rows = products.map(p => [
                    p.category, p.name, p.wholesalePrice, p.retailPrice, p.currentStock, p.safetyStock, p.lastWeekStock, 
                    p.currentStock <= p.safetyStock ? '需補貨' : '充足'
                ]);
                const csv = '\ufeff' + [headers.join(','), ...rows.map(r => r.join(','))].join('\n');
                const blob = new Blob([csv], { type: 'text/csv;charset=utf-8;' });
                const link = document.createElement('a');
                link.href = URL.createObjectURL(blob);
                link.download = `AOAWOW_盤點表_${getRocDate(session.date)}.csv`;
                link.click();
            };

            const handleAI = async () => {
                setIsAnalyzing(true);
                const ai = new GoogleGenAI({ apiKey: process.env.API_KEY });
                const lowStock = products.filter(p => p.currentStock <= p.safetyStock).map(p => p.name).join(', ');
                try {
                    const res = await ai.models.generateContent({
                        model: "gemini-3-flash-preview",
                        contents: `我是寵物零食商 AOAWOW，目前以下品項低於安全庫存：${lowStock || '無'}。請給我專業補貨建議。`,
                    });
                    setAiAnalysis(res.text);
                } catch (e) { setAiAnalysis("分析失敗"); }
                setIsAnalyzing(false);
            };

            return React.createElement('div', { className: "min-h-screen pb-12" },
                // Header
                React.createElement('nav', { className: "bg-white border-b sticky top-0 z-30 px-6 h-20 flex items-center justify-between shadow-sm" },
                    React.createElement('div', { className: "flex items-center gap-3" },
                        React.createElement('div', { className: "w-12 h-12 bg-indigo-600 rounded-2xl flex items-center justify-center text-white shadow-lg" }, React.createElement('i', { className: "fas fa-paw text-xl" })),
                        React.createElement('div', null,
                            React.createElement('h1', { className: "text-2xl font-black tracking-tighter" }, "AOAWOW ", React.createElement('span', { className: "text-indigo-600" }, "專業庫存")),
                            React.createElement('p', { className: "text-xs text-slate-400 font-bold" }, "PREMIUM PET TREATS SYSTEM")
                        )
                    ),
                    React.createElement('div', { className: "flex items-center gap-6" },
                        React.createElement('div', { className: "flex flex-col items-end" },
                            React.createElement('span', { className: "text-sm font-bold text-slate-700" }, getRocDate(session.date)),
                            React.createElement('span', { className: "text-xs text-slate-400" }, `盤點人：${session.inspector}`)
                        )
                    )
                ),

                React.createElement('main', { className: "max-w-7xl mx-auto px-6 mt-10" },
                    // Actions
                    React.createElement('div', { className: "flex flex-col xl:flex-row justify-between items-start xl:items-center gap-4 mb-8" },
                        React.createElement('div', null,
                            React.createElement('h2', { className: "text-3xl font-black text-slate-800" }, "庫存盤點中心"),
                            React.createElement('p', { className: "text-slate-500 mt-1" }, "請確實清點實體庫存並更新下方數據。")
                        ),
                        React.createElement('div', { className: "flex flex-wrap gap-2" },
                            React.createElement('button', { onClick: handleStartInventory, className: "bg-emerald-50 text-emerald-700 px-5 py-3 rounded-2xl font-bold flex items-center gap-2 hover:bg-emerald-100 transition-all active:scale-95" }, React.createElement('i', { className: "fas fa-sync-alt" }), "開始新週盤點"),
                            React.createElement('button', { onClick: handleExport, className: "bg-amber-50 text-amber-700 px-5 py-3 rounded-2xl font-bold flex items-center gap-2 hover:bg-amber-100 transition-all active:scale-95" }, React.createElement('i', { className: "fas fa-file-excel" }), "導出 Excel"),
                            React.createElement('button', { onClick: handleAI, className: "bg-indigo-600 text-white px-6 py-3 rounded-2xl font-bold flex items-center gap-2 shadow-lg shadow-indigo-100 active:scale-95" }, isAnalyzing ? "AI 分析中..." : "AI 補貨建議")
                        )
                    ),

                    // AI Report
                    aiAnalysis && React.createElement('div', { className: "mb-8 p-6 bg-indigo-50 border border-indigo-100 rounded-3xl relative animate-in fade-in" },
                        React.createElement('button', { onClick: () => setAiAnalysis(null), className: "absolute top-4 right-4 text-indigo-300" }, React.createElement('i', { className: "fas fa-times" })),
                        React.createElement('h4', { className: "text-indigo-700 font-black mb-2 flex items-center gap-2" }, React.createElement('i', { className: "fas fa-robot text-xl" }), "GEMINI 庫存分析助手"),
                        React.createElement('div', { className: "text-sm leading-relaxed text-slate-700 whitespace-pre-wrap" }, aiAnalysis)
                    ),

                    // Stats
                    React.createElement('div', { className: "grid grid-cols-1 md:grid-cols-4 gap-4 mb-8" },
                        [
                            { l: '總品項', v: stats.totalItems, i: 'fa-box', c: 'blue' },
                            { l: '低庫存警戒', v: stats.lowStockItems, i: 'fa-exclamation-circle', c: 'amber', w: true },
                            { l: '庫存批價總額', v: `$${stats.totalWholesaleValue.toLocaleString()}`, i: 'fa-dollar-sign', c: 'emerald' },
                            { l: '零售預估額', v: `$${stats.totalRetailValue.toLocaleString()}`, i: 'fa-chart-pie', c: 'purple' }
                        ].map(s => React.createElement('div', { key: s.l, className: "bg-white p-6 rounded-3xl border border-slate-100 shadow-sm" },
                            React.createElement('div', { className: "flex items-center gap-4" },
                                React.createElement('div', { className: `w-12 h-12 bg-${s.c}-50 text-${s.c}-600 rounded-2xl flex items-center justify-center text-xl` }, React.createElement('i', { className: `fas ${s.i}` })),
                                React.createElement('div', null,
                                    React.createElement('p', { className: "text-xs text-slate-400 font-bold uppercase" }, s.l),
                                    React.createElement('p', { className: `text-xl font-black ${s.w ? 'text-amber-600' : 'text-slate-800'}` }, s.v)
                                )
                            )
                        ))
                    ),

                    // Filter
                    React.createElement('div', { className: "flex flex-col md:flex-row gap-4 mb-6" },
                        React.createElement('div', { className: "flex bg-white p-1 rounded-2xl shadow-sm border border-slate-100" },
                            ['全部', '風乾零食', '凍乾零食', '用品'].map(t => React.createElement('button', { key: t, onClick: () => setActiveTab(t), className: `px-6 py-2.5 rounded-xl text-sm font-bold transition-all ${activeTab === t ? 'bg-indigo-600 text-white shadow-md' : 'text-slate-400 hover:text-slate-600'}` }, t))
                        ),
                        React.createElement('div', { className: "relative flex-1" },
                            React.createElement('i', { className: "fas fa-search absolute left-4 top-1/2 -translate-y-1/2 text-slate-300" }),
                            React.createElement('input', { type: "text", placeholder: "搜尋產品名稱...", value: searchTerm, onChange: e => setSearchTerm(e.target.value), className: "w-full pl-11 pr-4 py-3.5 rounded-2xl border border-slate-200 outline-none focus:ring-4 focus:ring-indigo-50 transition-all" })
                        )
                    ),

                    // Table
                    React.createElement('div', { className: "bg-white rounded-3xl shadow-sm border border-slate-100 overflow-hidden" },
                        React.createElement('div', { className: "overflow-x-auto" },
                            React.createElement('table', { className: "w-full" },
                                React.createElement('thead', { className: "bg-slate-50 border-b border-slate-100" },
                                    React.createElement('tr', null,
                                        ['分類', '品名', '目前庫存', '安全', '上週', '狀態'].map(h => React.createElement('th', { key: h, className: "px-6 py-4 text-left text-xs font-black text-slate-400 uppercase tracking-widest" }, h))
                                    )
                                ),
                                React.createElement('tbody', { className: "divide-y divide-slate-50" },
                                    filteredProducts.map(p => {
                                        const isLow = p.currentStock <= p.safetyStock;
                                        return React.createElement('tr', { key: p.id, className: `hover:bg-slate-50/80 transition-colors ${isLow ? 'bg-amber-50/20' : ''}` },
                                            React.createElement('td', { className: "px-6 py-5 text-xs font-bold" }, React.createElement('span', { className: `px-2 py-1 rounded-lg ${p.category === '用品' ? 'bg-slate-100 text-slate-500' : 'bg-orange-50 text-orange-600'}` }, p.category)),
                                            React.createElement('td', { className: "px-6 py-5 font-bold text-slate-700" }, p.name),
                                            React.createElement('td', { className: "px-6 py-5" },
                                                React.createElement('div', { className: "flex items-center gap-3" },
                                                    React.createElement('button', { onClick: () => handleUpdateStock(p.id, Math.max(0, p.currentStock - 1)), className: "w-8 h-8 rounded-xl bg-slate-100 hover:bg-slate-200 flex items-center justify-center transition-colors" }, React.createElement('i', { className: "fas fa-minus text-xs" })),
                                                    React.createElement('input', { type: "number", value: p.currentStock, onChange: e => handleUpdateStock(p.id, parseInt(e.target.value) || 0), className: "w-12 text-center font-black text-indigo-600 bg-transparent outline-none border-b-2 border-indigo-100 focus:border-indigo-500" }),
                                                    React.createElement('button', { onClick: () => handleUpdateStock(p.id, p.currentStock + 1), className: "w-8 h-8 rounded-xl bg-slate-100 hover:bg-slate-200 flex items-center justify-center transition-colors" }, React.createElement('i', { className: "fas fa-plus text-xs" }))
                                                )
                                            ),
                                            React.createElement('td', { className: "px-6 py-5 text-sm font-bold text-slate-300" }, p.safetyStock),
                                            React.createElement('td', { className: "px-6 py-5 text-sm font-bold text-slate-300" }, p.lastWeekStock),
                                            React.createElement('td', { className: "px-6 py-5" },
                                                isLow ? React.createElement('span', { className: "px-3 py-1 rounded-full bg-red-100 text-red-600 text-[10px] font-black" }, "需補貨") : React.createElement('span', { className: "px-3 py-1 rounded-full bg-emerald-100 text-emerald-600 text-[10px] font-black" }, "充足")
                                            )
                                        );
                                    })
                                )
                            )
                        )
                    )
                )
            );
        };

        createRoot(document.getElementById('root')).render(React.createElement(App));
    </script>
<script type="module" src="/index.tsx"></script>
</body>
</html>
